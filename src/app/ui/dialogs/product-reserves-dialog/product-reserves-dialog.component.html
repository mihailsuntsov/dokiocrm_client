<mat-card class="card">
    <mat-card-title class="flex">
        <div class="card-name">Заказы покупателей с резервами</div>
        <button 
            (click)="onNoClick()"
            matTooltip="Закрыть диалоговое окно"
            mat-raised-button 
            color="accent"
            class="button">
            <i class="material-icons">close</i> Закрыть 
        </button>
    </mat-card-title>
    <mat-card-content > 
        <div class="card">
            <mat-spinner 
            strokeWidth="3" 
            class="spinner"
            [diameter]="50"
            *ngIf="gettingTableData"
            ></mat-spinner>
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <ng-container matColumnDef="opendoc">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let row" class="table-launch-icon">
                        <a class="inactive"  target="_blank" href="ui/customersordersdoc/{{row.id}}">
                            <mat-icon>launch</mat-icon>
                        </a>
                    </td>   
                </ng-container>
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> id </th>
                    <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                </ng-container>
                <ng-container matColumnDef="creator">
                    <th mat-header-cell *matHeaderCellDef>
                    <span class="sortheader"> Создатель 
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='asc' && this.sendingQueryForm.sortColumn=='creator'" class="material-icons sortarrow">arrow_upward</i> -->
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='desc' && this.sendingQueryForm.sortColumn=='creator'" class="material-icons sortarrow">arrow_downward</i> -->
                    </span>
                    <td mat-cell *matCellDef="let row"> {{row.creator}} </td>
                </ng-container>
                <ng-container matColumnDef="doc_number">
                    <th mat-header-cell *matHeaderCellDef>
                    <span class="sortheader"> № док. 
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='asc' && this.sendingQueryForm.sortColumn=='doc_number'" class="material-icons sortarrow">arrow_upward</i> -->
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='desc' && this.sendingQueryForm.sortColumn=='doc_number'" class="material-icons sortarrow">arrow_downward</i> -->
                    </span>
                    <td mat-cell *matCellDef="let row"> {{row.doc_number}} </td>
                </ng-container>
                <ng-container matColumnDef="non_shipped">
                    <th mat-header-cell *matHeaderCellDef>
                    <span class="sortheader"> Не отгруженные<br>резервы 
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='asc' && this.sendingQueryForm.sortColumn=='non_shipped'" class="material-icons sortarrow">arrow_upward</i> -->
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='desc' && this.sendingQueryForm.sortColumn=='non_shipped'" class="material-icons sortarrow">arrow_downward</i> -->
                    </span>
                    <td mat-cell *matCellDef="let row"> {{row.non_shipped}} </td>
                </ng-container>
                <ng-container matColumnDef="department">
                    <th mat-header-cell *matHeaderCellDef>
                    <span class="sortheader"> Отделение 
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='asc' && this.sendingQueryForm.sortColumn=='department'" class="material-icons sortarrow">arrow_upward</i> -->
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='desc' && this.sendingQueryForm.sortColumn=='department'" class="material-icons sortarrow">arrow_downward</i> -->
                    </span>
                    <td mat-cell *matCellDef="let row"> {{row.department}} </td>
                </ng-container>
                <ng-container matColumnDef="description">
                    <th mat-header-cell *matHeaderCellDef>
                    <span class="sortheader"> Доп. инфо. 
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='asc' && this.sendingQueryForm.sortColumn=='description'" class="material-icons sortarrow">arrow_upward</i> -->
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='desc' && this.sendingQueryForm.sortColumn=='description'" class="material-icons sortarrow">arrow_downward</i> -->
                    </span>
                    <td mat-cell *matCellDef="let row"> {{row.description}} </td>
                </ng-container>
                <ng-container matColumnDef="shipment_date">
                    <th mat-header-cell *matHeaderCellDef>
                    <span class="sortheader"> План. дата<br>отгрузки 
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='asc' && this.sendingQueryForm.sortColumn=='shipment_date_sort'" class="material-icons sortarrow">arrow_upward</i> -->
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='desc' && this.sendingQueryForm.sortColumn=='shipment_date_sort'" class="material-icons sortarrow">arrow_downward</i> -->
                    </span>
                    <td mat-cell *matCellDef="let row"> {{row.shipment_date}} </td>
                </ng-container>
                <ng-container matColumnDef="date_time_created">
                    <th mat-header-cell *matHeaderCellDef>
                    <span class="sortheader"> Дата создания 
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='asc' && this.sendingQueryForm.sortColumn=='date_time_created_sort'" class="material-icons sortarrow">arrow_upward</i> -->
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='desc' && this.sendingQueryForm.sortColumn=='date_time_created_sort'" class="material-icons sortarrow">arrow_downward</i> -->
                    </span>
                    <td mat-cell *matCellDef="let row"> {{row.date_time_created}} </td>
                </ng-container>
                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef>
                    <span class="sortheader"> Статус 
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='asc' && this.sendingQueryForm.sortColumn=='status_id'" class="material-icons sortarrow">arrow_upward</i> -->
                        <!-- <i *ngIf="this.sendingQueryForm.sortAsc=='desc' && this.sendingQueryForm.sortColumn=='status_id'" class="material-icons sortarrow">arrow_downward</i> -->
                    </span>
                    <td mat-cell *matCellDef="let row"> 
                        <div class="flex" style="width:100%">
                            <div class = "circle-in-selected" [style.background-color]="row.status_color"></div>
                            <div class="value">{{row.status_name}}</div>
                        </div>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                
                <!-- Блок "Данные не найдены" -->
                <ng-container matColumnDef="data_not_found">
                    <td mat-footer-cell *matFooterCellDef colspan="9" class="text-center">
                      Данные не найдены
                    </td>
                </ng-container>
                <ng-container matColumnDef="nocolumn">
                    <td mat-footer-cell *matFooterCellDef colspan="9" style="display: none;"></td>
                </ng-container>
                <tr mat-footer-row 
                *matFooterRowDef="[dataSource.data.length==0?'data_not_found':'nocolumn']" 
                [ngStyle]="(dataSource.data.length==0 && !gettingTableData)?{}:{'display': 'none'}"></tr>
                <!-- Конец блока "Данные не найдены" -->                
            </table>
        </div>
    </mat-card-content> 
</mat-card>
    